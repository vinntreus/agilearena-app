var mongoose = require('mongoose');
var Schema = mongoose.Schema

var BaseEventSchema = new mongoose.Schema({
  created : { type : Date, default : Date.now },
  data : {}
});

var EventsSchema = new mongoose.Schema({
  aggregateId : Schema.ObjectId,  
  events : [BaseEventSchema],
  snapshot : {},
  snapshotEvent : Schema.ObjectId
});
var Events = mongoose.model('Events', EventsSchema);

exports.Events = Events;
exports.EventBase = BaseEventSchema;